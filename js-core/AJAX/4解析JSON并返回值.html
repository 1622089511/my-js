<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	<script>
		var request = new XMLHttpRequest();
		request.open('GET','xxx.com?number'+document.getElementById('num').value);
		request.send();
		request.onreadystatechange=function(){
			if(request.readyState ===4){
				if(request.status ===200){
					//document.getElemenById('msg').innerHTML = request.responseText;
					var data = JSON.parse(request.response);
					if(data.success){
						document.getElemenById('msg').innerHTML = data.msg;
					}else{
						document.getElementById('msg').innerHTML = "出现错误"+data.msg;
					}	
				}else{
					alert(request.status);
				}
			}	
		}	
		//jq写法
	/*	
		jQuery.ajax([setting])
		type: post get方法
		url: 发送请求的地址
		data:对象,连同请求发送到服务器地址
		dataType:一般设置为json
		success:请求成功后的回调函数
		error:是一个方法,请求失败时调用.传入XMLHttpRequest对象

		$(document).ready(function(){
			$('#search').click(function(){
				$.ajax({
					type:"GET",
					url: "xxx.com?number"+$('#num').val(),
					dataType:'json',
					success:function(data){
						if(data.success){
							$('#msg').html = data.msg;
						}else{
							$('#msg').html = "发生错误:"+data.msg;
						}
					},
					error:function(jqXHR){
						alert("发生错误"+jqXHR.status);
					}
				});
			})	
		
			$('#save').click(function(){
				$.ajax({
					type:"POST",
					url: "xxx.com",
					dataType:'json',
					data:{
						name : $('#msg').val(),
						age : $('#age').val(),
						sex : $('#sex').html
						job : $('#job').val()
					},
					success:function(data){
						if(data.success){
							$('#msg').html = data.msg;
						}else{
							$('#msg').html = "发生错误:"+data.msg;
						}
					},
					error:function(jqXHR){
						alert("发生错误"+jqXHR.status);
				});		
			})
		})();
			
*/	
		
	</script>	
	</body>
</html>
